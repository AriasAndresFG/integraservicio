{% extends "base.html" %}
{% block title %}Dashboard Usuario{% endblock %}

{% block content %}

<div class="container">

    <header class="user-header">
        <h3><span style="color: var(--primary); margin-right: 8px;">ğŸ—ºï¸</span> CatÃ¡logo</h3>

        <div style="display:flex; gap:15px; align-items:center;">
            <div class="user-profile-pill">
                <span style="color: var(--primary); margin-right: 5px;">ğŸ‘¤</span>
                <span style="color: #fff; font-weight: 500;">{{ user.nombre }}</span>
            </div>

            <a href="/logout" class="logout-btn">
                <span style="margin-right: 5px;">ğŸšª</span> Cerrar SesiÃ³n
            </a>
        </div>
    </header>

    <nav class="admin-nav">
        <a class="active" href="/user/dashboard">
            <span style="margin-right: 5px;">ğŸ”</span> Explorar Recursos
        </a>

        <a href="/user/reservas">
            <span style="margin-right: 5px;">â±ï¸</span> Mis Reservas
        </a>
    </nav>

    <section>
        <div style="text-align: left; margin-bottom: 20px;">
            <h2 style="color: var(--primary); margin-bottom: 5px;">Recursos Disponibles</h2>
            <p style="color: var(--text-muted);">Encuentra y reserva el espacio ideal para tus actividades.</p>
        </div>

        <div class="search-container">
            <span class="search-icon">ğŸ”</span>
            <input type="text" class="search-input" placeholder="Buscar por nombre, tipo o capacidad...">
        </div>

        <div class="catalog-grid">
            {% for r in recursos %}
            <div class="resource-card" style="display: flex; flex-direction: column; justify-content: space-between;">

                <div>
                    <div class="resource-header">
                        <span class="resource-tag">
                            <span style="margin-right: 5px;">ğŸ·ï¸</span> {{ r.tipo }}
                        </span>

                        <span class="status-badge status-available">
                            <span style="margin-right: 5px;">âœ…</span> Disponible
                        </span>
                    </div>

                    <h3 style="color: var(--primary); margin-bottom: 10px;">{{ r.nombre }}</h3>
                    <p style="color: #ccc; font-size: 0.9em; line-height: 1.5; margin-bottom: 15px; min-height: 40px;">
                        {{ r.descripcion }}
                    </p>
                </div>

                <div>
                    {% if r.capacidad %}
                    <div style="background: #000; padding: 8px; border-radius: 4px; margin-bottom: 15px; font-size: 0.85em; color: #888;">
                        <span style="color: #fff; margin-right: 5px;">ğŸ‘¥</span> Capacidad mÃ¡xima: <span style="color: #fff;">{{ r.capacidad }}</span>
                    </div>
                    {% endif %}

                    <button class="btn-primary" style="width: 100%; margin-top:0;">
                        <span style="margin-right: 5px;">â•ğŸ—“ï¸</span> Reservar Ahora
                    </button>
                </div>

            </div>
            {% endfor %}
        </div>
    </section>
</div>

{% endblock %}